!function(){var e=accom.hostel.guestsMin,t=accom.hostel.guestsMax,o=accom.hostel.nightsMax,n=accom.hostel.nightsMin,a=accom.hotel.guestsMin,r=accom.hotel.guestsMax,i=accom.hotel.nightsMin,s=accom.hotel.nightsMax,l=accom.motel.guestsMin,c=accom.motel.guestsMax,d=accom.motel.nightsMin,m=accom.motel.nightsMax,g=accom.house.guestsMin,p=accom.house.guestsMax,u=accom.house.nightsMin,y=accom.house.nightsMax,h=(document.getElementsByClassName("fp-previous"),document.getElementsByClassName("fp-next"),document.getElementById("getGuests")),f=document.getElementById("getCheckIn"),v=document.getElementById("getCheckOut"),C=document.getElementById("nightsSelected"),w=document.getElementById("nightsText"),k=document.getElementById("getMealOption"),b=document.getElementById("submitBtn"),M=document.getElementById("browseBtn"),x=(document.getElementById("accomClose"),document.getElementById("modalTitle")),I=document.getElementById("modalAccomCost"),E=document.getElementById("modalImg"),B=document.getElementById("modalAccomDetails"),P=document.getElementById("bookRoomBtn"),D=document.getElementById("accomName"),S=document.getElementById("accomCost"),T=document.getElementById("accomImg"),L=document.getElementById("guestsCount"),F=document.getElementById("mealsOption"),A=document.getElementById("nightsCount"),z=document.getElementById("totalCost"),N=document.getElementById("refNum"),j=[],O=[];$(window).load(function(){$(".loader").fadeOut()}),$(document).ready(function(){$("#fullpage").fullpage({verticalCentered:!0,anchors:["firstPage","secondPage","3rdPage","fourthPage","fifthPage"],sectionsColor:["white","#D66761","#D66761","transparent","#D66761"],bgSize:["cover","cover","cover","cover","cover"],slidesNavigation:!0}),$("#exploreBtn").click(function(e){e.preventDefault(),$.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown()}),$(".datepicker1").pickadate({clear:"",min:new Date}),$(".datepicker1").change(function(){var e=$("#getCheckIn").val();$(".datepicker2").pickadate({clear:"",min:new Date(e),onClose:function(){var e,t;e=Date.parse(getCheckIn.value),t=Date.parse(getCheckOut.value)-e,daysDiff=Math.floor(t/864e5),C.innerText=daysDiff,function(){var e=parseInt(h.value);if(C.textContent>15||C.textContent<1){var t=document.createElement("p");f.style.border="1px solid #DC1C0C",v.style.border="1px solid #DC1C0C",t.className="nightsErrorMsg",t.style.margin="1em",t.textContent="You have selected an incorrect amount of nights. Please try again.",w.after(t)}else $(".nightsErrorMsg").remove(),f.style.borderColor="",v.style.borderColor="";if(5===e&&C.textContent>10){var o=document.createElement("p");f.style.border="1px solid #DC1C0C",v.style.border="1px solid #DC1C0C",o.className="fiveGuestsMatchError",o.style.margin="0.5em",o.textContent="This amount of nights is invalid with 5 guests. Please try again.",w.after(o)}else if(6===e&&C.textContent>=10){var n=document.createElement("p");f.style.border="1px solid #DC1C0C",v.style.border="1px solid #DC1C0C",n.className="sixGuestsMatchError",n.style.margin="0.5em",n.textContent="This amount of nights is invalid with 6 guests. Please try again.",w.after(n)}else $(".fiveGuestsMatchError").remove(),$(".sixGuestsMatchError").remove(),f.style.borderColor="",v.style.borderColor=""}()}})}),window.addEventListener("load",function(){var e=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(e,function(e){e.addEventListener("submit",function(t){if(!1===e.checkValidity()||C.textContent>15||C.textContent<1){t.preventDefault(),t.stopPropagation();var o=document.createElement("p");o.className="errorMessage",o.innerText="Hold up! Look like something's missing. Please check to see if you've entered your details correctly.",b.after(o),$(".errorMessage").fadeOut(6e3,function(){$(".errorMessage").remove()})}e.classList.add("was-validated")},!1)})},!1),$("form").submit(function(){return!1}),b.addEventListener("click",function(){!1===h.validity.valueMissing&&!1===k.validity.valueMissing&&C.textContent>=1&&C.textContent<=15&&($.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!1))},!1),$("#browseBtn").click(function(e){var t,o;e.preventDefault(),$.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!1),t=parseInt(k.value),o=parseInt(h.value),j.push({guests:o,nights:daysDiff,mealName:getMealOption.selectedOptions[0].textContent,mealCost:t})}),mapboxgl.accessToken="pk.eyJ1Ijoic3VtaXRyYW0iLCJhIjoiY2ppbDA5ajh5MmpuMTNwb250MXR0ZWI1ayJ9.4K0zZ6PO_bnYu76JJUOmoQ";var H=new mapboxgl.Map({container:"map",style:"mapbox://styles/sumitram/cji3p2cwm0s6r2smz01nlidgc",center:[174.780934,-36.883059],zoom:10.7});H.on("load",function(){H.addLayer({id:"places",type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{description:"<strong>Te Henga Walkway</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.452166,-36.883217]}},{type:"Feature",properties:{description:"<strong>Point England Walks</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.871534,-36.88247]}},{type:"Feature",properties:{description:"<strong>Albert Park</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.767883,-36.850609]}},{type:"Feature",properties:{description:"<strong>Auckland War Memorial Museum</strong>",icon:"museum"},geometry:{type:"Point",coordinates:[174.777791,-36.860364]}},{type:"Feature",properties:{description:"<strong>Sky Tower</strong>",icon:"star"},geometry:{type:"Point",coordinates:[174.762191,-36.848414]}},{type:"Feature",properties:{description:"<strong>Queens Street</strong>",icon:"star"},geometry:{type:"Point",coordinates:[174.764615,-36.850473]}},{type:"Feature",properties:{description:"<strong>Coley & Punch</strong>",icon:"alcohol-shop"},geometry:{type:"Point",coordinates:[174.76473,-36.84102]}},{type:"Feature",properties:{description:"<strong>Kelly Tarlton's Sea Life Aquarium</strong>",icon:"aquarium"},geometry:{type:"Point",coordinates:[174.817432,-36.846943]}},{type:"Feature",properties:{description:"<strong>MT Roskill Summit</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.737258,-36.91259]}},{type:"Feature",properties:{description:"<strong>Alberton</strong>",icon:"museum"},geometry:{type:"Point",coordinates:[174.724686,-36.889934]}},{type:"Feature",properties:{description:"<strong>Stardome Observatory & Planetarium</strong>",icon:"star-stroked"},geometry:{type:"Point",coordinates:[174.776985,-36.905937]}}]}},layout:{"icon-image":"{icon}-15","icon-allow-overlap":!0,"icon-size":1}});var e=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});H.on("mouseenter","places",function(t){H.getCanvas().style.cursor="pointer";for(var o=t.features[0].geometry.coordinates.slice(),n=t.features[0].properties.description;Math.abs(t.lngLat.lng-o[0])>180;)o[0]+=t.lngLat.lng>o[0]?360:-360;e.setLngLat(o).setHTML(n).addTo(H)}),H.on("mouseleave","places",function(){H.getCanvas().style.cursor="",e.remove()})});var W;[{type:"Feature",properties:{accomType:"house",theId:"contemVilla",title:"Contemporary inner city villa by Fran & Aaron",cost:"240",description:"Have the best Auckland stay at this beautiful city house hosted by trustworthy owners Francesca and Aaron.",image:"img/contemVilla.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.752126,-36.850371]}},{type:"Feature",properties:{accomType:"house",theId:"howickHome",title:"Howick Luxury Large Home",cost:"240",description:"Enjoy your stay at this lovely luxury home which includes free wifi and complimentory bath essentials.",image:"img/howickHome.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.932126,-36.913246]}},{type:"Feature",properties:{accomType:"hotel",theId:"grandMillennium",title:"Grand Millennium Hotel",cost:"157",description:"This city centre hotel will cater to your accommodation if you are wanting to stay within popular attractions and be catered a luxurious stay.",image:"img/grandMillennium.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.760582,-36.852772]}},{type:"Feature",properties:{accomType:"hotel",theId:"bestWestern",title:"Best Western Ellerslie",cost:"157",description:"This hotel offers WiFi Internet, outdoor heated pool, on site in-house car rental, restaurant and bar, and conference facilities. Perfect for business travellers.",image:"img/bestWestern.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.814842,-36.900858]}},{type:"Feature",properties:{accomType:"motel",theId:"greenlaneManor",title:"Greenlane Manor Motels",cost:"90",description:"Relax at Greenlane Manors with comfy beds, hot showers and big fluffy towels. Close by local cuisines and local attractions.",image:"img/greenlaneManor.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.801883,-36.897228]}},{type:"Feature",properties:{accomType:"motel",theId:"airportMotel",title:"Airport Harbour View Motel",cost:"90",description:"A 11 mintue walk from the beach and 8 minutes to the Auckland International airport. This 4-star rated motel is simply luxurious and affordable.",image:"img/airportMotel.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.784677,-36.931369]}},{type:"Feature",properties:{accomType:"hostel",theId:"brownKiwi",title:"Brown Kiwi Travellers Hostel",cost:"30",description:"Brown Kiwi Travellers is one of the most friendly hostels to relax at during your travels. Brown Kiwi is neighbours with SKYCITY Sky Tower and the city centre.",image:"img/brownKiwiTravellers.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.742576,-36.847083]}},{type:"Feature",properties:{accomType:"hostel",theId:"oaklandsLodge",title:"Oaklands Lodge Backpackers",cost:"30",description:"Located in Mt Edan, Oaklands Lodge for Backpackers is the your home away from home. Enjoy Netflix and Wii along with a free herb garden and complimentary Wi-Fi.",image:"img/oaklandsLodge.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.763164,-36.880751]}}].forEach(function(e){var t=document.createElement("div");t.className="marker hideMarkers",t.id=e.properties.theId,t.style.backgroundImage="url('img/pin.svg')",t.style.backgroundSize="contain",t.style.width=e.properties.iconSize[0]+"px",t.style.height=e.properties.iconSize[1]+"px",t.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#accomModal"),t.addEventListener("click",function(){x.textContent=e.properties.title,I.textContent=e.properties.cost,E.style.backgroundImage="url("+e.properties.image+")",B.textContent=e.properties.description}),P.addEventListener("click",function(){O.push({name:x.textContent,cost:I.textContent,image:E.style.backgroundImage})}),new mapboxgl.Marker(t).setLngLat(e.geometry.coordinates).addTo(H)}),M.addEventListener("click",function(){$(".hideMarkers").hide(),h.value<=t&&h.value>=e&&daysDiff<=o&&daysDiff>=n&&($("#brownKiwi").show(),$("#oaklandsLodge").show());h.value<=c&&h.value>=l&&daysDiff<=m&&daysDiff>=d&&($("#greenlaneManor").show(),$("#airportMotel").show());h.value<=r&&h.value>=a&&daysDiff<=s&&daysDiff>=i&&($("#grandMillennium").show(),$("#bestWestern").show());h.value<=p&&h.value>=g&&daysDiff<=y&&daysDiff>=u&&($("#howickHome").show(),$("#contemVilla").show())},!1),$("#bookRoomBtn").click(function(e){var t;e.preventDefault(),$.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!1),T.style.backgroundImage=O[0].image,L.textContent=j[0].guests+" guests",F.textContent=j[0].mealName,A.textContent=j[0].nights+" nights ("+getCheckIn.value+" - "+getCheckOut.value+")",D.textContent=O[0].name+" -",S.textContent="$"+O[0].cost+" per night",t=O[0].cost*j[0].nights+j[0].mealCost,z.textContent="$"+t+"NZD"}),W=Math.floor(1e6*Math.random()+1),N.textContent="#"+W})}();