!function(){var t=accom.hostel.guestsMin,o=accom.hostel.guestsMax,n=accom.hostel.nightsMax,i=accom.hostel.nightsMin,r=accom.hotel.guestsMin,s=accom.hotel.guestsMax,l=accom.hotel.nightsMin,c=accom.hotel.nightsMax,d=accom.motel.guestsMin,m=accom.motel.guestsMax,g=accom.motel.nightsMin,p=accom.motel.nightsMax,u=accom.house.guestsMin,y=accom.house.guestsMax,f=accom.house.nightsMin,h=accom.house.nightsMax,v=document.getElementById("body"),w=(document.getElementsByClassName("fp-previous"),document.getElementsByClassName("fp-next"),document.getElementsByClassName("fp-controlArrow")),C=document.getElementById("getGuests"),k=document.getElementById("getCheckIn"),x=document.getElementById("getCheckOut"),b=document.getElementById("nightsSelected"),M=document.getElementById("nightsText"),I=document.getElementById("getMealOption"),E=document.getElementById("submitBtn"),S=document.getElementById("browseBtn"),B=(document.getElementById("accomClose"),document.getElementById("modalTitle")),P=document.getElementById("modalAccomCost"),D=document.getElementById("modalImg"),T=document.getElementById("modalAccomDetails"),L=document.getElementById("bookRoomBtn"),A=document.getElementById("accomName"),F=document.getElementById("accomCost"),N=document.getElementById("accomImg"),z=document.getElementById("guestsCount"),j=document.getElementById("mealsOption"),O=document.getElementById("nightsCount"),H=document.getElementById("totalCost"),W=document.getElementById("refNum"),K=[],G=[];$(window).load(function(){$(".loader").fadeOut()}),$(document).ready(function(){$("#fullpage").fullpage({verticalCentered:!0,anchors:["firstPage","secondPage","3rdPage","fourthPage","fifthPage"],sectionsColor:["white","#D66761","#D66761","transparent","#D66761"],bgSize:["cover","cover","cover","cover","cover"],slidesNavigation:!0}),$.fn.fullpage.setAllowScrolling(!1),$(".fp-prev").hide(),$("#exploreBtn").click(function(e){e.preventDefault(),$.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown()}),$(".fp-prev").click(function(){$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.moveSlideLeft(),$.fn.fullpage.setAllowScrolling(!1)}),$(".fp-next").click(function(){$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.moveSlideRight(),$.fn.fullpage.setAllowScrolling(!1)}),$(w).click(function(){"fp-viewing-secondPage-slide1"==v.classList[1]?($(".fp-next").show(),$(".fp-prev").hide()):"fp-viewing-secondPage-slide2"==v.classList[1]?($(".fp-next").show(),$(".fp-prev").show()):"fp-viewing-secondPage-slide3"==v.classList[1]&&($(".fp-next").hide(),$(".fp-prev").show())}),$(".datepicker1").pickadate({clear:"",min:new Date}),$(".datepicker1").change(function(){var e=$("#getCheckIn").val();$(".datepicker2").pickadate({clear:"",min:new Date(e),onClose:function(){var e,t;e=Date.parse(getCheckIn.value),t=Date.parse(getCheckOut.value)-e,daysDiff=Math.floor(t/864e5),b.innerText=daysDiff,function(){var e=parseInt(C.value);if(15<b.textContent||b.textContent<1){var t=document.createElement("p");k.style.border="1px solid #DC1C0C",x.style.border="1px solid #DC1C0C",t.className="nightsErrorMsg",t.style.margin="1em",t.textContent="You have selected an incorrect amount of nights. Please try again.",M.after(t)}else $(".nightsErrorMsg").remove(),k.style.borderColor="",x.style.borderColor="";if(5===e&&10<b.textContent){var o=document.createElement("p");k.style.border="1px solid #DC1C0C",x.style.border="1px solid #DC1C0C",o.className="fiveGuestsMatchError",o.style.margin="0.5em",o.textContent="This amount of nights is invalid with 5 guests. Please try again.",M.after(o)}else if(6===e&&10<=b.textContent){var n=document.createElement("p");k.style.border="1px solid #DC1C0C",x.style.border="1px solid #DC1C0C",n.className="sixGuestsMatchError",n.style.margin="0.5em",n.textContent="This amount of nights is invalid with 6 guests. Please try again.",M.after(n)}else $(".fiveGuestsMatchError").remove(),$(".sixGuestsMatchError").remove(),k.style.borderColor="",x.style.borderColor=""}()}})}),window.addEventListener("load",function(){var e=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(e,function(o){o.addEventListener("submit",function(e){if(!1===o.checkValidity()||15<b.textContent||b.textContent<1){e.preventDefault(),e.stopPropagation();var t=document.createElement("p");t.className="errorMessage",t.innerText="Hold up! Look like something's missing. Please check to see if you've entered your details correctly.",E.after(t),$(".errorMessage").fadeOut(6e3,function(){$(".errorMessage").remove()})}o.classList.add("was-validated")},!1)})},!1),$("form").submit(function(){return!1}),E.addEventListener("click",function(){!1===C.validity.valueMissing&&!1===I.validity.valueMissing&&1<=b.textContent&&b.textContent<=15&&($.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!1))},!1),$("#browseBtn").click(function(e){var t,o;e.preventDefault(),$.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!1),t=parseInt(I.value),o=parseInt(C.value),K.push({guests:o,nights:daysDiff,mealName:getMealOption.selectedOptions[0].textContent,mealCost:t})}),mapboxgl.accessToken="pk.eyJ1Ijoic3VtaXRyYW0iLCJhIjoiY2ppbDA5ajh5MmpuMTNwb250MXR0ZWI1ayJ9.4K0zZ6PO_bnYu76JJUOmoQ";var a=new mapboxgl.Map({container:"map",style:"mapbox://styles/sumitram/cji3p2cwm0s6r2smz01nlidgc",center:[174.780934,-36.883059],zoom:10.7});a.on("load",function(){a.addLayer({id:"places",type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{description:"<strong>Te Henga Walkway</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.452166,-36.883217]}},{type:"Feature",properties:{description:"<strong>Point England Walks</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.871534,-36.88247]}},{type:"Feature",properties:{description:"<strong>Albert Park</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.767883,-36.850609]}},{type:"Feature",properties:{description:"<strong>Auckland War Memorial Museum</strong>",icon:"museum"},geometry:{type:"Point",coordinates:[174.777791,-36.860364]}},{type:"Feature",properties:{description:"<strong>Sky Tower</strong>",icon:"star"},geometry:{type:"Point",coordinates:[174.762191,-36.848414]}},{type:"Feature",properties:{description:"<strong>Queens Street</strong>",icon:"star"},geometry:{type:"Point",coordinates:[174.764615,-36.850473]}},{type:"Feature",properties:{description:"<strong>Coley & Punch</strong>",icon:"alcohol-shop"},geometry:{type:"Point",coordinates:[174.76473,-36.84102]}},{type:"Feature",properties:{description:"<strong>Kelly Tarlton's Sea Life Aquarium</strong>",icon:"aquarium"},geometry:{type:"Point",coordinates:[174.817432,-36.846943]}},{type:"Feature",properties:{description:"<strong>MT Roskill Summit</strong>",icon:"park"},geometry:{type:"Point",coordinates:[174.737258,-36.91259]}},{type:"Feature",properties:{description:"<strong>Alberton</strong>",icon:"museum"},geometry:{type:"Point",coordinates:[174.724686,-36.889934]}},{type:"Feature",properties:{description:"<strong>Stardome Observatory & Planetarium</strong>",icon:"star-stroked"},geometry:{type:"Point",coordinates:[174.776985,-36.905937]}}]}},layout:{"icon-image":"{icon}-15","icon-allow-overlap":!0,"icon-size":1}});var n=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});a.on("mouseenter","places",function(e){a.getCanvas().style.cursor="pointer";for(var t=e.features[0].geometry.coordinates.slice(),o=e.features[0].properties.description;180<Math.abs(e.lngLat.lng-t[0]);)t[0]+=e.lngLat.lng>t[0]?360:-360;n.setLngLat(t).setHTML(o).addTo(a)}),a.on("mouseleave","places",function(){a.getCanvas().style.cursor="",n.remove()})});var e;[{type:"Feature",properties:{accomType:"house",theId:"contemVilla",title:"Contemporary inner city villa by Fran & Aaron",cost:"240",description:"Have the best Auckland stay at this beautiful city house hosted by trustworthy owners Francesca and Aaron.",image:"img/contemVilla.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.752126,-36.850371]}},{type:"Feature",properties:{accomType:"house",theId:"howickHome",title:"Howick Luxury Large Home",cost:"240",description:"Enjoy your stay at this lovely luxury home which includes free wifi and complimentory bath essentials.",image:"img/howickHome.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.932126,-36.913246]}},{type:"Feature",properties:{accomType:"hotel",theId:"grandMillennium",title:"Grand Millennium Hotel",cost:"157",description:"This city centre hotel will cater to your accommodation if you are wanting to stay within popular attractions and be catered a luxurious stay.",image:"img/grandMillennium.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.760582,-36.852772]}},{type:"Feature",properties:{accomType:"hotel",theId:"bestWestern",title:"Best Western Ellerslie",cost:"157",description:"This hotel offers WiFi Internet, outdoor heated pool, on site in-house car rental, restaurant and bar, and conference facilities. Perfect for business travellers.",image:"img/bestWestern.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.814842,-36.900858]}},{type:"Feature",properties:{accomType:"motel",theId:"greenlaneManor",title:"Greenlane Manor Motels",cost:"90",description:"Relax at Greenlane Manors with comfy beds, hot showers and big fluffy towels. Close by local cuisines and local attractions.",image:"img/greenlaneManor.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.801883,-36.897228]}},{type:"Feature",properties:{accomType:"motel",theId:"airportMotel",title:"Airport Harbour View Motel",cost:"90",description:"A 11 mintue walk from the beach and 8 minutes to the Auckland International airport. This 4-star rated motel is simply luxurious and affordable.",image:"img/airportMotel.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.784677,-36.931369]}},{type:"Feature",properties:{accomType:"hostel",theId:"brownKiwi",title:"Brown Kiwi Travellers Hostel",cost:"30",description:"Brown Kiwi Travellers is one of the most friendly hostels to relax at during your travels. Brown Kiwi is neighbours with SKYCITY Sky Tower and the city centre.",image:"img/brownKiwiTravellers.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.742576,-36.847083]}},{type:"Feature",properties:{accomType:"hostel",theId:"oaklandsLodge",title:"Oaklands Lodge Backpackers",cost:"30",description:"Located in Mt Edan, Oaklands Lodge for Backpackers is the your home away from home. Enjoy Netflix and Wii along with a free herb garden and complimentary Wi-Fi.",image:"img/oaklandsLodge.jpg",iconSize:[40,40]},geometry:{type:"Point",coordinates:[174.763164,-36.880751]}}].forEach(function(e){var t=document.createElement("div");t.className="marker hideMarkers",t.id=e.properties.theId,t.style.backgroundImage="url('img/pin.svg')",t.style.backgroundSize="contain",t.style.width=e.properties.iconSize[0]+"px",t.style.height=e.properties.iconSize[1]+"px",t.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#accomModal"),t.addEventListener("click",function(){B.textContent=e.properties.title,P.textContent=e.properties.cost,D.style.backgroundImage="url("+e.properties.image+")",T.textContent=e.properties.description}),L.addEventListener("click",function(){G.push({name:B.textContent,cost:P.textContent,image:D.style.backgroundImage})}),new mapboxgl.Marker(t).setLngLat(e.geometry.coordinates).addTo(a)}),S.addEventListener("click",function(){$(".hideMarkers").hide(),C.value<=o&&C.value>=t&&daysDiff<=n&&daysDiff>=i&&($("#brownKiwi").show(),$("#oaklandsLodge").show());C.value<=m&&C.value>=d&&daysDiff<=p&&daysDiff>=g&&($("#greenlaneManor").show(),$("#airportMotel").show());C.value<=s&&C.value>=r&&daysDiff<=c&&daysDiff>=l&&($("#grandMillennium").show(),$("#bestWestern").show());C.value<=y&&C.value>=u&&daysDiff<=h&&daysDiff>=f&&($("#howickHome").show(),$("#contemVilla").show())},!1),$("#bookRoomBtn").click(function(e){var t;e.preventDefault(),$.fn.fullpage.setScrollingSpeed(1e3),$.fn.fullpage.moveSectionDown(),$.fn.fullpage.setAllowScrolling(!1),N.style.backgroundImage=G[0].image,z.textContent=K[0].guests+" guests",j.textContent=K[0].mealName,O.textContent=K[0].nights+" nights ("+getCheckIn.value+" - "+getCheckOut.value+")",A.textContent=G[0].name+" -",F.textContent="$"+G[0].cost+" per night",t=G[0].cost*K[0].nights+K[0].mealCost,H.textContent="$"+t+"NZD"}),e=Math.floor(1e6*Math.random()+1),W.textContent="#"+e})}();